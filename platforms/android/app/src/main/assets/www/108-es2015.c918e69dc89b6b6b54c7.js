(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{SSIw:function(n,e,l){"use strict";l.r(e);var t=l("8Y7J");class o{}var i=l("pMnS"),a=l("JDXN"),u=l("bmoI"),s=l("xgBC"),r=l("JJ1F"),d=l("Tddt"),c=l("xehS"),p=l("iInd"),m=l("sZkV"),h=l("s5RH"),b=l("Kzq5"),g=l("TGN4"),f=l("LtMM"),v=l("tVJU"),C=l("9B/o"),S=l("MKJQ"),w=l("SVse"),R=l("mrSG"),k=l("HTWg"),D=l("HF2u");class E{constructor(n,e,l,t,o,i,a){this.ionService=n,this.navCtrl=e,this.storage=l,this.cdr=t,this.transactionAPI=o,this.generalService=i,this.subscriptionApi=a,this.transactions=[],this.displayValue=0,this.viewStatus=!0}ngOnInit(){}ionViewWillEnter(){this.initData()}initData(){this.storage.get("userInfo").then(n=>{n&&(this.userID=n.id,this.token=n.token)}),this.storage.get("planInfo").then(n=>{console.log(n);const e=n,l=e.price.toString().split(".");e.bigprc=l[0],e.smallprc=l[1],this.planInfo=e,this.subscriptionID=n.id,this.freeTrial=n.free_trial,this.defineDisplay()})}getTransactionHistory(){return new Promise((n,e)=>{this.transactionAPI.getTransactionHistory(this.userID,this.token).subscribe(l=>{console.log(l),1===l.RESPONSECODE?(l.data&&l.data.length>0&&(this.planInfo.invoice_pdf=l.data[0].invoice_pdf,this.planInfo.lastpaymentAmount=l.data[0].amount,this.planInfo.payment_method=l.data[0].payment_method),n(!0)):(this.ionService.presentToast(l.RESPONSE),e(!1))},n=>{})})}defineDisplay(){1===this.subscriptionID?this.getSubscriptions(this.userID,this.token).then(n=>{this.displayValue=1}):this.subscriptionID>1&&!0===this.freeTrial?this.displayValue=2:this.getTransactionHistory().then(n=>{n&&(console.log(n),this.displayValue=4)}),this.ionService.closeLoading(),this.cdr.detectChanges()}getSubscriptions(n,e){return new Promise((l,t)=>{this.ionService.showLoading(),this.subscriptionApi.getSubscriptionPlan(n,e).subscribe(n=>R.a(this,void 0,void 0,(function*(){this.ionService.closeLoading(),1===n.RESPONSECODE?(this.plansList=n.data.plan.reverse(),this.freeTrialAvailable=n.data.freeTrial_available,l(!0)):(this.ionService.showAlert("Error while fetching Plans","Something might be wrong from the api"),t(!1))})),n=>{this.ionService.showAlert("Connection Error to the Server","Couldnot fetch the plans"),t(!1)})})}back(){this.navCtrl.back()}toggleMenu(){this.ionService.toggleMenu()}openFeedback(){this.generalService.openFeedback()}}var I=t["\u0275crt"]({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;z-index:1}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.menu[_ngcontent-%COMP%]{right:0}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.back[_ngcontent-%COMP%]{left:0}"]],data:{}});function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-subscription-plan",[],null,null,null,a.b,a.a)),t["\u0275did"](1,114688,null,0,u.a,[s.b,r.a,d.a,c.a,p.m,m.Fb,h.a],{plansList:[0,"plansList"],freeTrialAvailable:[1,"freeTrialAvailable"]},null)],(function(n,e){var l=e.component;n(e,1,0,l.plansList,l.freeTrialAvailable)}),null)}function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-free-trial",[],null,null,null,b.b,b.a)),t["\u0275did"](1,114688,null,0,g.a,[p.m],{details:[0,"details"],viewStatus:[1,"viewStatus"]},null)],(function(n,e){var l=e.component;n(e,1,0,l.planInfo,l.viewStatus)}),null)}function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-no-trial",[],null,null,null,f.b,f.a)),t["\u0275did"](1,114688,null,0,v.a,[p.m,C.a],{details:[0,"details"],viewStatus:[1,"viewStatus"]},null)],(function(n,e){var l=e.component;n(e,1,0,l.planInfo,l.viewStatus)}),null)}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,16,"ion-header",[["class","small-header"]],null,null,null,S.fb,S.p)),t["\u0275did"](1,49152,null,0,m.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](2,0,null,0,14,"ion-toolbar",[["class","toolbar"],["mode","md"]],null,null,null,S.Fb,S.P)),t["\u0275did"](3,49152,null,0,m.zb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"]},null),(n()(),t["\u0275eld"](4,0,null,0,12,"ion-buttons",[],null,null,null,S.T,S.d)),t["\u0275did"](5,49152,null,0,m.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](6,0,null,0,2,"ion-title",[],null,null,null,S.Db,S.N)),t["\u0275did"](7,49152,null,0,m.xb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,["Your Membership"])),(n()(),t["\u0275eld"](9,0,null,0,3,"ion-button",[["class","menu"],["mode","md"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.toggleMenu()&&t),t}),S.S,S.c)),t["\u0275did"](10,49152,null,0,m.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"]},null),(n()(),t["\u0275eld"](11,0,null,0,1,"ion-icon",[["class","menu"],["slot","icon-only"]],null,null,null,S.gb,S.q)),t["\u0275did"](12,49152,null,0,m.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](13,0,null,0,3,"ion-button",[["class","back"],["mode","md"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.back()&&t),t}),S.S,S.c)),t["\u0275did"](14,49152,null,0,m.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"]},null),(n()(),t["\u0275eld"](15,0,null,0,1,"ion-icon",[["class","back"],["mode","ios"],["name","arrow-back"]],null,null,null,S.gb,S.q)),t["\u0275did"](16,49152,null,0,m.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"],name:[1,"name"]},null),(n()(),t["\u0275eld"](17,0,null,null,14,"ion-content",[],null,null,null,S.bb,S.l)),t["\u0275did"](18,16384,null,0,w.n,[],{ngSwitch:[0,"ngSwitch"]},null),t["\u0275did"](19,49152,null,0,m.u,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,y)),t["\u0275did"](21,278528,null,0,w.o,[t.ViewContainerRef,t.TemplateRef,w.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,M)),t["\u0275did"](23,278528,null,0,w.o,[t.ViewContainerRef,t.TemplateRef,w.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,N)),t["\u0275did"](25,278528,null,0,w.o,[t.ViewContainerRef,t.TemplateRef,w.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275eld"](26,0,null,0,5,"ion-fab",[["class","feedback-fab"],["horizontal","start"],["slot","fixed"],["vertical","bottom"]],null,null,null,S.db,S.m)),t["\u0275did"](27,49152,null,0,m.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),t["\u0275eld"](28,0,null,0,3,"ion-fab-button",[["class","feedback"],["mode","md"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.openFeedback()&&t),t}),S.cb,S.n)),t["\u0275did"](29,49152,null,0,m.x,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"]},null),(n()(),t["\u0275eld"](30,0,null,0,1,"ion-icon",[["class","feedback"]],null,null,null,S.gb,S.q)),t["\u0275did"](31,49152,null,0,m.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null)],(function(n,e){var l=e.component;n(e,3,0,"md"),n(e,10,0,"md"),n(e,14,0,"md"),n(e,16,0,"ios","arrow-back"),n(e,18,0,l.displayValue),n(e,21,0,1),n(e,23,0,2),n(e,25,0,4),n(e,27,0,"start","bottom"),n(e,29,0,"md")}),null)}function T(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-view-membership",[],null,null,null,P,I)),t["\u0275did"](1,114688,null,0,E,[c.a,m.Gb,s.b,t.ChangeDetectorRef,k.a,D.a,d.a],null,null)],(function(n,e){n(e,1,0)}),null)}var Z=t["\u0275ccf"]("app-view-membership",E,T,{},{},[]),A=l("s7LF"),F=l("HlEa"),O=l("B0QU"),_=l("LtGu"),V=l("5Bek"),L=l("zMNK"),z=l("c9fC"),J=l("7++P"),q=l("j1ZV");class x{}l.d(e,"ViewMembershipPageModuleNgFactory",(function(){return B}));var B=t["\u0275cmf"](o,[],(function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,Z]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,w.m,w.l,[t.LOCALE_ID,[2,w.x]]),t["\u0275mpd"](4608,A.q,A.q,[]),t["\u0275mpd"](4608,m.c,m.c,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,m.Fb,m.Fb,[m.c,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,m.Jb,m.Jb,[m.c,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,F.a,F.a,[t.LOCALE_ID,[2,"googleChartsVersion"],[2,"mapsApiKey"]]),t["\u0275mpd"](4608,h.a,h.a,[]),t["\u0275mpd"](1073742336,w.b,w.b,[]),t["\u0275mpd"](1073742336,A.p,A.p,[]),t["\u0275mpd"](1073742336,A.f,A.f,[]),t["\u0275mpd"](1073742336,m.Bb,m.Bb,[]),t["\u0275mpd"](1073742336,p.q,p.q,[[2,p.v],[2,p.m]]),t["\u0275mpd"](1073742336,O.c,O.c,[]),t["\u0275mpd"](1073742336,_.a,_.a,[]),t["\u0275mpd"](1073742336,V.c,V.c,[]),t["\u0275mpd"](1073742336,L.b,L.b,[]),t["\u0275mpd"](1073742336,z.d,z.d,[]),t["\u0275mpd"](1073742336,J.CountoModule,J.CountoModule,[]),t["\u0275mpd"](1073742336,q.a,q.a,[]),t["\u0275mpd"](1073742336,x,x,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](256,"googleChartsVersion","46",[]),t["\u0275mpd"](256,"mapsApiKey","AIzaSyCHjrW83Zc1vwk4mzxztYbvk2by0PQZoIE",[]),t["\u0275mpd"](256,O.b,{radius:70,outerStrokeWidth:10,innerStrokeWidth:5,showTitle:!1,showSubtitle:!1,showUnits:!1,showBackground:!1,startFromZero:!1},[]),t["\u0275mpd"](1024,p.k,(function(){return[[{path:"",component:E}]]}),[])])}))}}]);